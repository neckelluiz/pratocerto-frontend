<div class="modal-container">
  <h2 class="modal-title">
    <span class="material-symbols-outlined">assignment</span>
    Adicionar Novo Pedido
  </h2>

  <form>
    <!-- Linha horizontal: Nome do Cliente + Status -->
    <div class="form-row-horizontal">
      <div class="form-group">
        <label>Nome do Cliente</label>
        <input
          type="text"
          placeholder="Digite o nome do cliente"
          [(ngModel)]="pedido.cliente"
          name="cliente"
        />
      </div>

      <div class="form-group">
        <label>Status do Pedido</label>
        <select [(ngModel)]="pedido.status" name="status">
          <option value="pendente">Pendente</option>
          <option value="preparando">Preparando</option>
          <option value="pronto">Pronto</option>
          <option value="entregue">Entregue</option>
        </select>
      </div>
    </div>

    <div class="form-row">
      <label>ðŸ“žTelefone</label>
      <input
        type="number"
        placeholder="Digite o nÃºmero do cliente">
    </div>

    <!-- EndereÃ§o -->
    <div class="form-row">
      <label>EndereÃ§o de Entrega</label>
      <textarea
        placeholder="Digite o endereÃ§o completo"
        [(ngModel)]="pedido.endereco"
        name="endereco"
      ></textarea>
    </div>

    <!-- Itens do Pedido -->
    <div class="itens-section">
      <div class="itens-header">
        <h3>Itens do Pedido</h3>
        <button type="button" class="btn-add-item" (click)="adicionarItem()">+ Adicionar Item</button>
      </div>

      <!-- âœ… CABEÃ‡ALHO COMO LABELS -->
      <div class="item-labels" *ngIf="pedido.itens.length > 0">
        <div class="col-nome">
          <label>Nome do Item</label>
        </div>
        <div class="col-qtd">
          <label>Qtd</label>
        </div>
        <div class="col-preco">
          <label>PreÃ§o (R$)</label>
        </div>
        <div class="col-action"></div>
      </div>

      <div class="item-row" *ngFor="let item of pedido.itens; let i = index">
        <div class="col-nome">
          <input type="text" placeholder="Ex: Pizza Margherita" [(ngModel)]="item.nome" name="nome_{{i}}"/>
        </div>
        <div class="col-qtd">
          <input type="number" min="1" [(ngModel)]="item.quantidade" name="quantidade_{{i}}"/>
        </div>
        <div class="col-preco">
          <input type="number" min="0" step="0.01" [(ngModel)]="item.preco" name="preco_{{i}}"/>
        </div>
        <div class="col-action">
          <button type="button" class="btn-remove" (click)="removerItem(i)">âˆ’</button>
        </div>
      </div>
    </div>

    <!-- Total -->
    <div class="card-total-pedido">
      <div class="card-content">
        <span class="total-label">Total do Pedido:</span>
        <span class="total-value">R$ {{ calcularTotal() | number:'1.2-2' }}</span>
      </div>
    </div>

    <!-- BotÃµes -->
    <div class="modal-actions">
      <button type="button" class="btn-cancelar" (click)="fechar()">Cancelar</button>
      <button type="submit" class="btn-criar" (click)="criarPedido()">Criar Pedido</button>
    </div>
  </form>
</div>
